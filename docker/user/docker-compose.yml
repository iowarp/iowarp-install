services:
  iowarp:
    image: iowarp/iowarp:latest
    container_name: iowarp
    hostname: iowarp-node

    # Mount custom configuration
    volumes:
      - ./wrp_conf.yaml:/etc/iowarp/wrp_conf.yaml:ro

    # Expose ZeroMQ port
    ports:
      - "5555:5555"

    # Run as daemon with interactive terminal
    stdin_open: true
    tty: true

    shm_size: 8g
    mem_limit: 8g

    # Resource limits (optional)
    # deploy:
    #   resources:
    #     limits:
    #       cpus: '4'
    #       memory: 8G
